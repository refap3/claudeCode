# CLAUDE.md — novita/

This directory contains two pygame games generated by the `qooba/qwen3-coder-30b-a3b-instruct:q3_k_m` model running via Ollama on novita.ai (RTX 5090 GPU).

## Files

| File | Game | Entry point |
|------|------|-------------|
| `car.py` | Top-down car racing | `python car.py` |
| `battle.py` | Vertical space shooter | `python battle.py` |

## Architecture

### car.py

Procedural, single-file script. No classes — state lives in module-level variables.

Key sections:
- **Constants / globals** (lines 1–59): screen size, colours, physics parameters, road geometry, life counter, obstacle list
- **Draw helpers** (lines 62–84): `draw_player_car`, `draw_obstacle_car` — pure pygame draw calls, no state mutation
- **`reset_game()`** (lines 87–95): resets all mutable globals
- **Main loop** (lines 99–211):
  - Event handling → player input → obstacle spawn/move → collision detection → difficulty scaling → render

Collision detection uses `pygame.Rect.colliderect`. Difficulty scales by setting `speed = 5 + score // 5` every 5 points. The life-bonus logic (`score % 10 == 0`) resets the score by subtracting 10, which is a quirk to be aware of when modifying scoring.

### battle.py

Object-oriented, single-file script with five classes.

| Class | Responsibility |
|-------|---------------|
| `Player` | Position, movement, health, lives, shoot cooldown |
| `Enemy` | Random speed/cooldown, downward movement, shooting |
| `Bullet` | Direction-aware movement (`is_player_bullet` flag) |
| `Explosion` | Expanding circle animation, auto-deactivates |
| `Game` | Owns all lists, drives spawn/update/collision/draw |

`create_sounds()` generates waveforms programmatically using `pygame.sndarray`; sound init failures are caught and degraded gracefully (sounds set to `None`).

Collision detection is manual AABB (axis-aligned bounding box) — no `pygame.Rect` used here.

Enemy spawn rate is fixed at every 60 frames; there is no difficulty escalation currently.

## Dependency

Both games require only `pygame`:

```bash
pip install pygame
```

No other third-party libraries are used.
