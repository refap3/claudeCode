# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Repository Overview

This is a collection of terminal-based Python games and simulations. The repository contains multiple independent projects, each in its own subdirectory with specific dependencies and architectures. All projects are designed to run on Windows and Unix-like systems.

## Repository Structure

- **`life/`**: Conway's Game of Life with NumPy-based computation and interactive controls
  - Has its own CLAUDE.md with detailed architecture guidance
  - Entry point: `python main.py`

- **`racing/`**: First-person arcade racing game using curses
  - Has its own CLAUDE.md with detailed architecture guidance
  - Entry point: `python3 racing_game.py`

- **`space/`**: Space shooter game using pygame
  - Entry point: `python3 space3.py`

- **`qen2.5/`**: Alternative implementations generated by qwen2.5-coder:14b
  - Reference implementations with simpler architecture
  - Not actively maintained

- **`novita/`**: Pygame games generated by qooba/qwen3-coder-30b-a3b-instruct:q3_k_m via Ollama on novita.ai (RTX 5090)
  - Has its own CLAUDE.md and README.md
  - `car.py`: top-down car racing game (procedural)
  - `battle.py`: vertical space shooter (OOP)

## Running Projects

Each project is self-contained. Navigate to its directory and run:

```bash
# Game of Life
cd life
pip install -r requirements.txt
python main.py

# Racing Game
cd racing
# On Windows: pip install windows-curses
python3 racing_game.py

# Space Shooter
cd space
pip install pygame
python3 space3.py

# Novita Games
cd novita
pip install pygame
python car.py      # Car racing
python battle.py   # Space shooter
```

## Platform-Specific Considerations

### Windows Terminal Applications

All projects are designed for Windows compatibility:

1. **Encoding**: Windows console defaults to cp1252. Projects that use Unicode characters (like `â–ˆ` in Game of Life) reconfigure stdout to UTF-8.

2. **Input Handling**: Windows uses `msvcrt` for non-blocking keyboard input instead of Unix `termios`/`tty`. Arrow keys on Windows produce two-byte sequences (`\xe0` or `\x00` + key code).

3. **Terminal Libraries**:
   - curses: Requires `windows-curses` package on Windows
   - Projects using raw ANSI codes work on standard Windows terminal

## Architecture Patterns

### Modular Design

All projects follow separation of concerns:
- **Core Logic**: Game rules and state management (e.g., `grid.py`, physics calculations)
- **Rendering**: Terminal output isolated in renderer classes
- **Input Handling**: Non-blocking keyboard input with platform abstraction
- **Main Loop**: Orchestrates components at fixed frame rate

### Cross-Platform Input

Projects use platform detection (`sys.platform == 'win32'`) to choose between:
- Unix: `termios`, `tty`, `select`
- Windows: `msvcrt`

Input handlers typically wrap platform-specific code in a context manager for clean resource management.

### Performance

- **Game of Life**: Uses NumPy vectorized operations (no Python loops over cells)
- **Racing Game**: Curses-based rendering with minimal redraws
- **Space Shooter**: Pygame with 60 FPS target

## Testing

Projects include test files (e.g., `test_*.py` in racing/) for specific components. No unified test framework - tests are run directly with `python`.

## Adding New Projects

New projects should:
1. Be self-contained in their own subdirectory
2. Include a README.md with quick start instructions
3. List dependencies clearly (requirements.txt or inline)
4. Support Windows and Unix platforms where applicable
5. Consider adding a CLAUDE.md if architecture is complex
